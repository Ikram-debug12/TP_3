# Projet de Gestion de Réservations - JPA/Hibernate

## Suppression des anciennes tables et création de la table equipements
<img width="1012" height="504" alt="Capture d&#39;écran 2026-02-23 121212" src="https://github.com/user-attachments/assets/f05ddb9e-8c06-44da-8c24-7ea4c1e7e2b2" />

## Création des tables reservations et salle_equipement
<img width="728" height="376" alt="Capture d&#39;écran 2026-02-23 121321" src="https://github.com/user-attachments/assets/49cd34bf-131a-4e61-8973-ed734035e1c8" />

## Création des tables salles et utilisateurs avec contrainte d'unicité sur email
<img width="833" height="449" alt="Capture d&#39;écran 2026-02-23 121417" src="https://github.com/user-attachments/assets/9f3b6fdb-5e2a-47a7-94ef-9df3f3f34d0d" />

## Ajout des clés étrangères entre tables
<img width="692" height="485" alt="Capture d&#39;écran 2026-02-23 121448" src="https://github.com/user-attachments/assets/2221a688-e2c3-434c-aa8f-8f00ea14cbbd" />

## Insertion d'un utilisateur lors du test en cascade
<img width="553" height="209" alt="Capture d&#39;écran 2026-02-23 121511" src="https://github.com/user-attachments/assets/036bff27-6faa-4f5a-8985-3501615dc231" />

## Insertion de salles et utilisateur pour test de suppression orpheline
<img width="520" height="496" alt="Capture d&#39;écran 2026-02-23 121530" src="https://github.com/user-attachments/assets/3059a90a-bdeb-424d-88b7-e731f71102b6" />

##  Insertion de réservations et suppression orpheline
<img width="774" height="461" alt="Capture d&#39;écran 2026-02-23 121608" src="https://github.com/user-attachments/assets/b9244484-2dae-40e1-99dd-6794ffbab936" />

## Requêtes de sélection des utilisateurs et leurs réservations
<img width="750" height="505" alt="Capture d&#39;écran 2026-02-23 121633" src="https://github.com/user-attachments/assets/beacd3b6-1eea-4405-bb22-0afb9d547cd4" />

## Test de la suppression orpheline
<img width="607" height="507" alt="Capture d&#39;écran 2026-02-23 121700" src="https://github.com/user-attachments/assets/b23a96f7-afe5-4ed3-b735-6d123b67df5d" />

## Insertion des équipements
<img width="740" height="441" alt="Capture d&#39;écran 2026-02-23 121727" src="https://github.com/user-attachments/assets/7bcf669a-6017-4d16-a323-2ebf93b11961" />

## Insertion d'équipements et associations dans la table de jointure
<img width="477" height="441" alt="Capture d&#39;écran 2026-02-23 121759" src="https://github.com/user-attachments/assets/16266e82-228c-41db-a05a-4cb1d1246e29" />

## Création des associations Salle-Équipement
<img width="423" height="318" alt="Capture d&#39;écran 2026-02-23 121836" src="https://github.com/user-attachments/assets/8b95898b-c06f-4a33-a1b1-35ae186c3e96" />

## Vérification de la salle persistée
<img width="634" height="263" alt="Capture d&#39;écran 2026-02-23 121903" src="https://github.com/user-attachments/assets/eef5c846-030c-42b4-aee4-69a334c8f15e" />

## Requête de jointure pour récupérer les équipements d'une salle
<img width="679" height="322" alt="Capture d&#39;écran 2026-02-23 122034" src="https://github.com/user-attachments/assets/74b99039-9e45-435d-b1e2-7112eef3de48" />

## Sélection d'une salle spécifique
<img width="719" height="272" alt="Capture d&#39;écran 2026-02-23 122055" src="https://github.com/user-attachments/assets/10e88152-65b8-467e-ac32-a90643524ab0" />

## Consultation des équipements - Salle de formation E205
<img width="551" height="366" alt="Capture d&#39;écran 2026-02-23 122116" src="https://github.com/user-attachments/assets/769e2d62-b90a-4050-9736-2db1d100e103" />

## Recherche d'équipement par nom
<img width="841" height="252" alt="Capture d&#39;écran 2026-02-23 122206" src="https://github.com/user-attachments/assets/45972696-0a34-43cd-b3c3-403c73972f57" />

## Récupération des salles associées à un équipement
<img width="773" height="368" alt="Capture d&#39;écran 2026-02-23 122231" src="https://github.com/user-attachments/assets/2d88226d-c64b-4e93-85c5-f2638ad8f95b" />

## Suppression d'une association dans la table de jointure
<img width="642" height="432" alt="Capture d&#39;écran 2026-02-23 122309" src="https://github.com/user-attachments/assets/0db61610-8c57-4681-b7aa-718cd9dfe758" />

## Vérification après suppression
<img width="745" height="350" alt="Capture d&#39;écran 2026-02-23 122334" src="https://github.com/user-attachments/assets/ad7ef19e-f42b-4937-bb79-cf9cbe337635" />

## Confirmation de l'existence de l'équipement après suppression
<img width="773" height="526" alt="Capture d&#39;écran 2026-02-23 122421" src="https://github.com/user-attachments/assets/f44753eb-2ae4-49b3-9a92-97e7d46e40ee" />

## Suppression des tables à la fin des tests
<img width="385" height="83" alt="Capture d&#39;écran 2026-02-23 122440" src="https://github.com/user-attachments/assets/8ffa41bb-48a8-4cc4-83fb-0f21c2ea962f" />

## Diagramme de classes 
<img width="592" height="486" alt="Capture d&#39;écran 2026-02-23 203725" src="https://github.com/user-attachments/assets/1cc558fe-6fc0-4286-9ba7-440d458f4cf6" />

## Légende des relations
Utilisateur ↔ Réservation : Un utilisateur peut effectuer plusieurs réservations, mais chaque réservation appartient à un seul utilisateur. C'est une relation OneToMany/ManyToOne bidirectionnelle.

Salle ↔ Réservation : Une salle peut être réservée plusieurs fois, mais une réservation ne concerne qu'une seule salle. C'est aussi une relation OneToMany/ManyToOne.

Salle ↔ Equipement : Une salle peut contenir plusieurs équipements et un équipement peut être présent dans plusieurs salles. C'est une relation ManyToMany gérée par une table de jointure.

## Les annotations
@OneToMany(mappedBy = "utilisateur", cascade = CascadeType.ALL, orphanRemoval = true) : Relation un-vers-plusieurs avec propagation et suppression orpheline

@ManyToOne @JoinColumn(name="utilisateur_id") : Une réservation appartient à un utilisateur

@ManyToMany @JoinTable(name="salle_equipement") : Relation entre salles et équipements
